---
title: "Configuring a custom domain"
slug: configure-custom-domain
---


For resellers who add a new customer to CloudMC, the system must be configured to serve the correct branding for that customer.  This is accomplished by identifying the domain name that end users will be using, and associating that name to the desired organization.

To create, modify, or delete a custom domain, an account must have the *Reseller* role assigned.  Also, for the domain name you wish to add, you must be able to access the DNS name servers, and be able to add and modify DNS records.

### Overview of configuring a custom domain

Before a domain name can be associated to an organization, a unique code generated by CloudMC must be added to the DNS records for that domain name.  The presence of this record validates to CloudMC ownership of the domain name.  Once validated, the domain name can then be associated with the desired organization.  At this point, CloudMC will provide the IP addresses you will need for configuring your DNS.  The steps in the following sub-sections include modifications to the DNS records.  The procedure assumes that you have no A record in DNS for your desired domain name.

### Add a custom domain

#### Generate a verification code

1. Click on **Organizations** in the left sidebar.
1. Click on the **Edit** icon on the far right of the desired organization.  Sub-organizations can be seen by expanding the relevant organization.
1. Click on the **Verified domains** item.
1. Click the *Add verified domain* button.  A dialogue box will appear.
1. Enter the fully qualified domain name into the dialogue box.  Click *Confirm*.
1. A notification will appear with a verification code.  Click on the text of the verification code to copy the full string into your clipboard.
1. The new domain now appears in the **Pending** state.

#### Add the TXT record to DNS

The exact steps to make changes to your domain name records will vary based on your DNS provider.

1. Connect to the name servers that host the domain name.
1. Create a TXT record for the domain name, and paste the entire verification code from above as the value of the TXT record.
1. Save your changes.

Depending on your provider, you may have to restart DNS services or take other steps.  

CloudMC will periodically check on domains in the **Pending** state.  Once the DNS changes have propagated and CloudMC is able to match the verification code in the TXT record, the domain will change to the **Verified** state.  You can use a command such as `dig` or another utility to perform the DNS lookup manually:

```
$ dig -t TXT your.domainname.com
```

#### Add the verified domain

Confirm that the domain is in the **Verified** state.

1. Click on **Organizations** in the left sidebar.
1. Click on the **Edit** icon on the far right of the desired organization.  Sub-organizations can be seen by expanding the relevant organization.
1. Under the **Custom domain** section is a pop-up list of verified domains.  Click on the list, and the domain name added above will appear.  Select the domain name.
1. A notification will appear with an IP address.  Make note of the IP.

#### Add the A record to DNS

To complete the process, you will have to configure an A record in your DNS provider, and the value of the records should be the IP address CloudMC returned above.  Again, the exact steps to make changes to your domain name records will vary based on your DNS provider.

1. Connect to the name servers that host the domain name.
1. Create an A record for the domain name, and paste the IP address from above as the value of the A record.
1. Save your changes.

Depending on your provider, you may have to restart DNS services or take other steps.  You can use a command such as `dig` or another utility to perform the DNS lookup manually:

```
$ dig -t A your.domainname.com
```

### External links

[Domain Name System](https://en.wikipedia.org/wiki/Domain_Name_System)
